# ğŸ” å¡å¯†ç®¡å®¶

ä¸€ä¸ªç°ä»£åŒ–çš„å¡å¯†ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ‰¹é‡å¯¼å…¥å¯¼å‡ºã€åˆ†ç±»æ ‡ç­¾ã€å¤‡æ³¨ç®¡ç†å’Œå…¬å‘ŠåŠŸèƒ½ã€‚

![React](https://img.shields.io/badge/React-18-61dafb?logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5-3178c6?logo=typescript)
![MySQL](https://img.shields.io/badge/MySQL-8-4479a1?logo=mysql&logoColor=white)
![Express](https://img.shields.io/badge/Express-4-000000?logo=express)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“‹ **æ‰¹é‡å¯¼å…¥** - ä»å‰ªè´´æ¿ä¸€é”®å¯¼å…¥å¡å¯†ï¼Œè‡ªåŠ¨å»é‡å»ç©º
- ğŸ“¤ **çµæ´»å¯¼å‡º** - æ”¯æŒå¯¼å‡ºå…¨éƒ¨/ç­›é€‰åçš„å¡å¯†ï¼Œå¯é€‰æ˜¯å¦åŒ…å«å¤‡æ³¨
- ğŸ·ï¸ **åˆ†ç±»ç®¡ç†** - è‡ªå®šä¹‰åˆ†ç±»æ ‡ç­¾å’Œé¢œè‰²ï¼Œå¿«é€Ÿç­›é€‰
- ğŸ“ **å¤‡æ³¨åŠŸèƒ½** - ä¸ºæ¯ä¸ªå¡å¯†æ·»åŠ å¤‡æ³¨å’Œä½¿ç”¨è€…ä¿¡æ¯
- ğŸ“¢ **å…¬å‘Šæ ** - é¡¶éƒ¨å¯ç¼–è¾‘å…¬å‘ŠåŒºåŸŸ
- ğŸ” **æœç´¢ç­›é€‰** - æŒ‰å¡å¯†ã€å¤‡æ³¨ã€ä½¿ç”¨è€…æœç´¢ï¼ŒæŒ‰çŠ¶æ€ç­›é€‰
- âœ… **æ‰¹é‡æ“ä½œ** - å¤šé€‰åæ‰¹é‡è®¾ç½®åˆ†ç±»ã€å¤‡æ³¨ã€æ ‡è®°çŠ¶æ€ã€åˆ é™¤
- ğŸ¨ **æµç•…åŠ¨ç”»** - åŸºäº Framer Motion çš„ç²¾è‡´äº¤äº’åŠ¨ç”»
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - æ”¯æŒ IndexedDB æœ¬åœ°å­˜å‚¨æˆ– MySQL äº‘ç«¯å­˜å‚¨

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

```
+--------------------------------------------------+
|              ğŸ“¢ å…¬å‘Šæ  (å¯ç¼–è¾‘)                    |
+--------------------------------------------------+
| [å¯¼å…¥] [å¯¼å‡ºâ–¼]              ğŸ” æœç´¢æ¡†   [çŠ¶æ€ç­›é€‰] |
+--------------------------------------------------+
| [å…¨éƒ¨] [æœªåˆ†ç±»] [VIP] [æ™®é€š] [æµ‹è¯•] [+æ·»åŠ åˆ†ç±»]    |
+--------------------------------------------------+
|  â–¡ | å¡å¯†ä»£ç       | åˆ†ç±»  | å¤‡æ³¨   | ä½¿ç”¨è€… | çŠ¶æ€|
|  â–¡ | XXXX-XXXX    | VIP   | æµ‹è¯•ç”¨ | å¼ ä¸‰   | å·²ç”¨|
|  â–¡ | YYYY-YYYY    | æ™®é€š  |        |        | æœªç”¨|
+--------------------------------------------------+
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

**å‰ç«¯:**
- React 18 + TypeScript
- Vite (æ„å»ºå·¥å…·)
- Framer Motion (åŠ¨ç”»)
- Lucide React (å›¾æ ‡)
- CSS Modules

**åç«¯:**
- Node.js + Express
- MySQL 8.0+
- mysql2 (æ•°æ®åº“é©±åŠ¨)

**æœ¬åœ°å­˜å‚¨ (å¯é€‰):**
- IndexedDB + Dexie.js

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä»…å‰ç«¯ (IndexedDB æœ¬åœ°å­˜å‚¨)

é€‚åˆä¸ªäººä½¿ç”¨ï¼Œæ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ä½ çš„ç”¨æˆ·å/kami.git
cd kami

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® http://localhost:5173

### æ–¹å¼äºŒï¼šå‰ç«¯ + MySQL åç«¯

é€‚åˆå¤šè®¾å¤‡åŒæ­¥æˆ–å›¢é˜Ÿä½¿ç”¨ã€‚

#### 1. ç¯å¢ƒè¦æ±‚

- Node.js 18+
- MySQL 8.0+

#### 2. é…ç½®æ•°æ®åº“

ç¼–è¾‘ `server/db.js`ï¼Œä¿®æ”¹ MySQL è¿æ¥ä¿¡æ¯ï¼š

```javascript
const config = {
  host: 'localhost',
  port: 3306,
  user: 'root',           // MySQL ç”¨æˆ·å
  password: 'your_password', // MySQL å¯†ç 
  database: 'kami_manager',
}
```

#### 3. å®‰è£…å¹¶å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ä½ çš„ç”¨æˆ·å/kami.git
cd kami

# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd server
npm install
cd ..

# å¯åŠ¨åç«¯ (ç»ˆç«¯1)
cd server
npm run dev

# å¯åŠ¨å‰ç«¯ (ç»ˆç«¯2)
npm run dev
```

- å‰ç«¯è®¿é—®: http://localhost:5173
- åç«¯ API: http://localhost:3001/api

> ğŸ’¡ æ•°æ®åº“å’Œè¡¨ä¼šåœ¨é¦–æ¬¡å¯åŠ¨åç«¯æ—¶è‡ªåŠ¨åˆ›å»º

## ğŸ“ é¡¹ç›®ç»“æ„

```
kami/
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ server/               # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ index.js          # Express å…¥å£
â”‚   â”œâ”€â”€ db.js             # MySQL é…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Announcement/ # å…¬å‘Šæ 
â”‚   â”‚   â”œâ”€â”€ BatchActions/ # æ‰¹é‡æ“ä½œæ 
â”‚   â”‚   â”œâ”€â”€ CardItem/     # å¡å¯†é¡¹
â”‚   â”‚   â”œâ”€â”€ CardList/     # å¡å¯†åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ CategoryTabs/ # åˆ†ç±»æ ‡ç­¾
â”‚   â”‚   â”œâ”€â”€ ImportModal/  # å¯¼å…¥å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ Modal/        # é€šç”¨å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ Toast/        # æ¶ˆæ¯æç¤º
â”‚   â”‚   â””â”€â”€ Toolbar/      # å·¥å…·æ 
â”‚   â”œâ”€â”€ db/               # IndexedDB é…ç½®
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ types/            # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx           # ä¸»ç»„ä»¶
â”‚   â””â”€â”€ main.tsx          # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ vite.config.ts
```

## ğŸ—ƒï¸ æ•°æ®åº“ç»“æ„

### cards è¡¨ (å¡å¯†)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | VARCHAR(36) | ä¸»é”® UUID |
| code | VARCHAR(255) | å¡å¯†ä»£ç  (å”¯ä¸€) |
| category_id | VARCHAR(36) | åˆ†ç±» ID |
| remark | TEXT | å¤‡æ³¨ |
| used_by | VARCHAR(255) | ä½¿ç”¨è€… |
| is_used | BOOLEAN | æ˜¯å¦å·²ä½¿ç”¨ |
| created_at | TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | æ›´æ–°æ—¶é—´ |

### categories è¡¨ (åˆ†ç±»)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | VARCHAR(36) | ä¸»é”® UUID |
| name | VARCHAR(100) | åˆ†ç±»åç§° |
| color | VARCHAR(20) | é¢œè‰²ä»£ç  |

### settings è¡¨ (è®¾ç½®)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | VARCHAR(36) | ä¸»é”® |
| announcement | TEXT | å…¬å‘Šå†…å®¹ |

## ğŸ”Œ API æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | /api/settings | è·å–è®¾ç½® |
| PUT | /api/settings/announcement | æ›´æ–°å…¬å‘Š |
| GET | /api/categories | è·å–æ‰€æœ‰åˆ†ç±» |
| POST | /api/categories | æ·»åŠ åˆ†ç±» |
| PUT | /api/categories/:id | æ›´æ–°åˆ†ç±» |
| DELETE | /api/categories/:id | åˆ é™¤åˆ†ç±» |
| GET | /api/cards | è·å–æ‰€æœ‰å¡å¯† |
| POST | /api/cards/batch | æ‰¹é‡æ·»åŠ å¡å¯† |
| PUT | /api/cards/:id | æ›´æ–°å•ä¸ªå¡å¯† |
| PUT | /api/cards/batch | æ‰¹é‡æ›´æ–°å¡å¯† |
| DELETE | /api/cards/:id | åˆ é™¤å•ä¸ªå¡å¯† |
| DELETE | /api/cards/batch | æ‰¹é‡åˆ é™¤å¡å¯† |

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### å‰ç«¯æ„å»º

```bash
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist/` ç›®å½•ï¼Œå¯éƒ¨ç½²åˆ°ä»»æ„é™æ€æ‰˜ç®¡æœåŠ¡ (Nginx, Vercel, Netlify ç­‰)ã€‚

### åç«¯éƒ¨ç½²

```bash
cd server
npm start
```

å»ºè®®ä½¿ç”¨ PM2 è¿›è¡Œè¿›ç¨‹ç®¡ç†ï¼š

```bash
npm install -g pm2
pm2 start index.js --name kami-server
pm2 save
```

### ç¯å¢ƒå˜é‡ (å¯é€‰)

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®æ•°æ®åº“è¿æ¥ï¼š

```bash
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=kami_manager
```

## ğŸ“„ å¼€æºåè®®

[MIT License](LICENSE)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å‘èµ· Pull Request

